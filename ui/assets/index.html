<html>  
    <head>
        <meta charset="utf-8"/>
        <script src="wasm_exec.js"></script>
        <script>
            const go = new Go();
            WebAssembly.instantiateStreaming(fetch("temp.wasm"), go.importObject).then((result) => {
                go.run(result.instance);
            });
        </script>
    </head>
    <body>
         <div>
            <h1 id="temperature">
                
            </h1>
         </div>

    </body>
    <script>
        const timer = ms => new Promise(res => setTimeout(res, ms))
        const f = () => {
            temp = readTemperature()
            console.log(temp)
            document.getElementById("temperature").innerHTML = temp
        }

        async function load () { 
            while (true) {
                await timer(3000)
                f()
            }
        }
        load()
        
     </script>
</html>